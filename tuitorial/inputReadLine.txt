
//////////////////////////////////////////////////////////////////

// This script demonstrates how to get user input from the console
// using Node.js's built-in 'readline' module.

const readline = require('readline');

// Create the interface for reading and writing to the console.
const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout
});

/**
 * Prompts the user with a question and returns the answer.
 * @param {string} query The question to display to the user.
 * @returns {Promise<string>} A promise that resolves with the user's answer.
 */
function askQuestion(query) {
  // Return a new Promise that handles the question and its resolution
  return new Promise(resolve => {
    rl.question(query, (answer) => {
      // The 'resolve' function is called with the answer
      // when the user provides input.
      resolve(answer);
    });
  });
}	

// An async function to execute the main logic
async function main() {
  console.log('Welcome to the interactive console!');

  // Call our new function to ask a question
  const name = await askQuestion('What is your name? ');
  console.log(`Hello, ${name}!`);

  // Ask another question
  const favoriteColor = await askQuestion('What is your favorite color? ');
  console.log(`${name}'s favorite color is ${favoriteColor}.`);

  // Close the readline interface when all questions are answered
  rl.close();
}

// Run the main function
main();
